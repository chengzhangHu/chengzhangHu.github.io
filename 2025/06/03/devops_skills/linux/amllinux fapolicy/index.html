<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="å‰ç«¯æ¡†æ¶ã€æ„å»ºå·¥å…·åŸç†åˆ†æã€ç«¯åˆ°ç«¯E2Eæµ‹è¯•ã€æ€§èƒ½æµ‹è¯•ä¼˜åŒ–ã€Devopså®è·µã€å¤§æ•°æ®åˆ†æåº”ç”¨å®è·µã€å¯è§†åŒ–å¼€å‘">
  <meta name="keyword" content="å‰ç«¯æ¡†æ¶ã€æ„å»ºå·¥å…·åŸç†åˆ†æã€ç«¯åˆ°ç«¯E2Eæµ‹è¯•ã€æ€§èƒ½æµ‹è¯•ä¼˜åŒ–ã€Devopså®è·µã€å¤§æ•°æ®åˆ†æåº”ç”¨å®è·µã€å¯è§†åŒ–å¼€å‘">
  
    <link rel="shortcut icon" href="/css/images/logo.png">
  
  <title>
    
      AlmaLinux  fapolicy | å‰ç«¯analysis
    
  </title>
  <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.14.0/css/fontawesome.min.css" rel="preload" as="style">
  <link href="https://cdn.bootcdn.net/ajax/libs/nprogress/0.2.0/nprogress.min.css" rel="preload" as="style">
  <link href="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.2/styles/tomorrow.min.css" rel="preload" as="style">
  
<link rel="stylesheet" href="/css/style.css">

  
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/geopattern/1.2.3/js/geopattern.min.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/nprogress/0.2.0/nprogress.min.js"></script>
  
  
  

<meta name="generator" content="Hexo 7.2.0"></head>
<div class="wechat-share">
  <img loading="lazy" src="/css/images/logo.png" />
</div>

  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo"></div>
      <span>å‰ç«¯analysis</span>
      <span style="font-size: .8rem;margin:0 .5rem;">| çŸ¥å…¶æ‰€ä»¥ç„¶ </span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">é¦–é¡µ</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/tags/" class="item-link">æ ‡ç­¾</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/archives/" class="item-link">å½’æ¡£</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/about/" class="item-link">å…³äº</a>
          
        </li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">é¦–é¡µ</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/tags/" class="menu-link">æ ‡ç­¾</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/archives/" class="menu-link">å½’æ¡£</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/about/" class="menu-link">å…³äº</a>
            
          </li>
        
      </ul>
    </div>
  </div>
</header>

    <div id="article-banner">
  <h2>AlmaLinux  fapolicy</h2>
  <p class="post-date">2025-06-03</p>
  <div class="arrow-down">
    <a href="javascript:;"></a>
  </div>
</div>
<main class="app-body flex-box" id="article-content">
  <!-- Article START -->
  <article class="post-article">
    <section class="markdown-content"><h2 id="å·²ç»å°†-host-dir-åŠ å…¥äº†-etc-fapolicyd-rule-d-ä¸‹"><a href="#å·²ç»å°†-host-dir-åŠ å…¥äº†-etc-fapolicyd-rule-d-ä¸‹" class="headerlink" title="å·²ç»å°† &#x2F;host&#x2F;dir åŠ å…¥äº† &#x2F;etc&#x2F;fapolicyd&#x2F;rule.d&#x2F; ä¸‹"></a>å·²ç»å°† &#x2F;host&#x2F;dir åŠ å…¥äº† &#x2F;etc&#x2F;fapolicyd&#x2F;rule.d&#x2F; ä¸‹</h2><p>è¿™è¯´æ˜ä½ å·²ç»å°è¯•é€šè¿‡ fapolicyd çš„è§„åˆ™å…è®¸å®¹å™¨æŒ‚è½½ç›®å½•è¢«è®¿é—®ã€‚ä½†ä»ç„¶é‡åˆ°ï¼š</p>
<p>runc create failed: waiting for init preliminary setup: read init-p: connection reset by peer</p>
<p>è¿™å¼ºçƒˆè¡¨æ˜ fapolicyd ä»åœ¨æ‹¦æˆªæˆ–å¹²æ‰°å®¹å™¨å¯åŠ¨ï¼Œå¯èƒ½æ˜¯ï¼š</p>
<p>ğŸ” æ ¹å› å¯èƒ½æœ‰ï¼š<br>âœ… 1. è§„åˆ™æ–‡ä»¶å­˜åœ¨ï¼Œä½†æ²¡æœ‰ç”Ÿæ•ˆ<br>fapolicyd çš„è§„åˆ™æ–‡ä»¶ä¿®æ”¹åï¼Œéœ€è¦é‡å»ºæ•°æ®åº“å¹¶é‡å¯æœåŠ¡ï¼š</p>
<p>sudo fagenrules<br>sudo systemctl restart fapolicyd</p>
<p>å¦åˆ™æ›´æ”¹ä¸ä¼šç”Ÿæ•ˆã€‚</p>
<p>âœ… 2. è§„åˆ™ä¸æ­£ç¡®æˆ–å¤ªä¿å®ˆ<br>ä½ æ˜¯å¦åŠ çš„æ˜¯ç™½åå•è§„åˆ™ï¼Ÿä¾‹å¦‚ï¼š</p>
<p>allow perm&#x3D;execute : dir&#x3D;&#x2F;host&#x2F;dir</p>
<p>è‹¥å†™æ³•ä¸å¯¹ï¼Œæˆ–æƒé™ä¸è¶³ï¼Œfapolicyd ä¾ç„¶ä¼šæ‹’ç»ã€‚</p>
<p>âœ… 3. å®¹å™¨æ‰§è¡Œæ–‡ä»¶è·¯å¾„æœªåŒ…å«åœ¨ç™½åå•ä¸­<br>å®¹å™¨è¿è¡Œæ—¶ï¼Œå¦‚ Docker&#x2F;Podmanï¼Œä¼šä» &#x2F;usr&#x2F;bin&#x2F;runcã€&#x2F;usr&#x2F;bin&#x2F;containerd-shimã€æˆ–è€… container é•œåƒä¸­çš„ &#x2F;bin&#x2F;sh å¯åŠ¨è¿›ç¨‹ã€‚è¿™äº›æ‰§è¡Œè·¯å¾„ä¹Ÿéœ€è¢«å…è®¸ã€‚</p>
<p>âœ… è§£å†³å»ºè®®<br>âœ… æ–¹æ³•ä¸€ï¼šç¡®è®¤è§„åˆ™æ˜¯å¦ç”Ÿæ•ˆ<br>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä»¥æ£€æŸ¥å“ªäº›æ“ä½œè¢«é˜»æ­¢ï¼š</p>
<p>sudo journalctl -t fapolicyd</p>
<p>ä½ å¯ä»¥çœ‹åˆ°è¢«æ‹’ç»çš„è·¯å¾„ï¼Œä¾‹å¦‚ï¼š</p>
<p>fapolicyd: access denied: &#x2F;host&#x2F;dir&#x2F;somebin</p>
<p>è¿™ä¼šå¸®ä½ ç¡®è®¤è¿˜ç¼ºå°‘å“ªäº›è§„åˆ™ã€‚</p>
<p>âœ… æ–¹æ³•äºŒï¼šä¸´æ—¶ç¦ç”¨ fapolicyd éªŒè¯é—®é¢˜æ˜¯å¦ç¡®å®æ¥è‡ªå®ƒ<br>sudo systemctl stop fapolicyd</p>
<p>ç„¶åé‡æ–°è¿è¡Œä½ çš„å®¹å™¨å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š</p>
<p>docker run -v &#x2F;host&#x2F;dir:&#x2F;container&#x2F;dir your-image</p>
<p>å¦‚æœæˆåŠŸå¯åŠ¨ï¼Œè¯´æ˜ç¡®å®æ˜¯ fapolicyd åœ¨é˜»æ­¢ã€‚</p>
<p>âœ… æ–¹æ³•ä¸‰ï¼šåŠ å®½è§„åˆ™å…è®¸å®¹å™¨ä½¿ç”¨<br>å¯ä»¥å°è¯•æ·»åŠ æ›´å®½æ³›çš„è§„åˆ™ï¼Œå¦‚ï¼š</p>
<p>allow perm&#x3D;any all : dir&#x3D;&#x2F;host&#x2F;dir</p>
<p>ç„¶åé‡å»ºè§„åˆ™å¹¶é‡å¯æœåŠ¡ï¼š</p>
<p>sudo fagenrules<br>sudo systemctl restart fapolicyd</p>
<p>âœ… æ–¹æ³•å››ï¼ˆå¼€å‘æˆ–éç”Ÿäº§ç¯å¢ƒï¼‰ï¼š<br>å¦‚æœä½ åªæ˜¯æœ¬åœ°æµ‹è¯•å®¹å™¨ï¼Œå»ºè®®æš‚æ—¶å…³é—­ fapolicydï¼š</p>
<p>sudo systemctl disable â€“now fapolicyd</p>
<h2 id="systemctl-stop-fapolicyd-æ˜¯-ä¸´æ—¶å…³é—­æœåŠ¡ï¼Œå®ƒçš„è¡Œä¸ºå¦‚ä¸‹ï¼š"><a href="#systemctl-stop-fapolicyd-æ˜¯-ä¸´æ—¶å…³é—­æœåŠ¡ï¼Œå®ƒçš„è¡Œä¸ºå¦‚ä¸‹ï¼š" class="headerlink" title="systemctl stop fapolicyd æ˜¯ ä¸´æ—¶å…³é—­æœåŠ¡ï¼Œå®ƒçš„è¡Œä¸ºå¦‚ä¸‹ï¼š"></a>systemctl stop fapolicyd æ˜¯ ä¸´æ—¶å…³é—­æœåŠ¡ï¼Œå®ƒçš„è¡Œä¸ºå¦‚ä¸‹ï¼š</h2><p>âœ… ä¸ä¼šè‡ªåŠ¨æ¢å¤è¿è¡Œ<br>ä¸€æ—¦ä½ æ‰§è¡Œäº†ï¼š</p>
<p>systemctl stop fapolicyd</p>
<p>fapolicyd æœåŠ¡ä¼šä¸€ç›´ä¿æŒå…³é—­çŠ¶æ€ï¼Œç›´åˆ°ä½ æ‰‹åŠ¨å¯åŠ¨å®ƒã€‚</p>
<p>â—é™¤éå‘ç”Ÿä»¥ä¸‹æƒ…å†µä¹‹ä¸€ï¼Œå®ƒæ‰ä¼šâ€œè‡ªåŠ¨æ¢å¤â€ï¼š</p>
<table>
<thead>
<tr>
<th>æƒ…å†µ</th>
<th>æ˜¯å¦ä¼šå¯¼è‡´ fapolicyd é‡æ–°å¯åŠ¨</th>
</tr>
</thead>
<tbody><tr>
<td>ä½ æ‰‹åŠ¨è¿è¡Œ systemctl start fapolicyd</td>
<td>âœ… æ˜¯</td>
</tr>
<tr>
<td>æœåŠ¡å™¨é‡å¯ï¼ˆä¸” fapolicyd è®¾ç½®ä¸ºå¼€æœºè‡ªå¯ï¼‰</td>
<td>âœ… æ˜¯</td>
</tr>
<tr>
<td>æœ‰äººæˆ–è‡ªåŠ¨è„šæœ¬è¿è¡Œ systemctl restart</td>
<td>âœ… æ˜¯</td>
</tr>
<tr>
<td>åªæ˜¯åœæ­¢æœåŠ¡ï¼Œæ²¡æœ‰é‡å¯ç³»ç»Ÿ</td>
<td>âŒ å¦ï¼ŒæœåŠ¡ä¸ä¼šè‡ªåŠ¨æ¢å¤</td>
</tr>
</tbody></table>
<p>ä½ å¯ä»¥æ£€æŸ¥æ˜¯å¦è®¾ä¸ºå¼€æœºå¯åŠ¨ï¼š</p>
<p>systemctl is-enabled fapolicyd</p>
<p>å¦‚æœè¿”å›ï¼š</p>
<p>enabledï¼šè¯´æ˜é‡å¯ç³»ç»Ÿåå®ƒä¼šæ¢å¤è¿è¡Œ<br>disabledï¼šé‡å¯ç³»ç»Ÿåå®ƒä»ç„¶ä¸ä¼šå¯åŠ¨</p>
<p>âœ… å¦‚æœä½ æƒ³è®©å®ƒå½»åº•ä¸å†è‡ªåŠ¨è¿è¡Œï¼š<br>sudo systemctl disable fapolicyd</p>
<p>è¿™æ ·å³ä½¿ç³»ç»Ÿé‡å¯ï¼Œå®ƒä¹Ÿä¸ä¼šæ¢å¤ã€‚</p>
<p>âœ… å¦‚æœä½ åªæ˜¯ä¸´æ—¶è°ƒè¯•ï¼Œå»ºè®®åšå®Œåæ¢å¤ï¼š<br>sudo systemctl start fapolicyd</p>
<p>ğŸ§  è¡¥å……å»ºè®®<br>æ­£åœ¨æ’æŸ¥å®¹å™¨å¯åŠ¨å¤±è´¥çš„é—®é¢˜ï¼Œä¸´æ—¶å…³é—­ fapolicyd æ˜¯ä¸€ç§å¥½æ–¹æ³•ã€‚<br>ä½†å»ºè®®æœ€ç»ˆè¿˜æ˜¯åŠ è§„åˆ™è§£å†³æ ¹æœ¬é—®é¢˜ï¼Œè€Œä¸æ˜¯ä¾èµ–å…³é—­æœåŠ¡ã€‚</p>
<h2 id="sudo-fapolicyd-â€“debug"><a href="#sudo-fapolicyd-â€“debug" class="headerlink" title="sudo fapolicyd â€“debug"></a>sudo fapolicyd â€“debug</h2><p>ç¡®å®å¯èƒ½ä¼šé˜»å¡ç³»ç»Ÿæˆ–å¯¼è‡´ SSH å¡é¡¿ï¼ŒåŸå› å¦‚ä¸‹ï¼š</p>
<p>âš ï¸ ä¸ºä»€ä¹ˆ fapolicyd â€“debug å¯èƒ½å¯¼è‡´ç³»ç»Ÿå¡é¡¿ç”šè‡³ SSH ç™»å½•å¤±è´¥ï¼Ÿ<br>âœ… åŸå› ä¸€ï¼šdebug æ¨¡å¼ä¼šåŠ«æŒç³»ç»Ÿè°ƒç”¨<br>fapolicyd â€“debug æ¨¡å¼ä¼šï¼š</p>
<p>æ‹¦æˆªå¹¶æ‰“å°ç³»ç»Ÿä¸­æ‰€æœ‰çš„æ–‡ä»¶æ‰§è¡Œç›¸å…³äº‹ä»¶<br>è¾“å‡ºéå¸¸å¯†é›†ï¼Œå°¤å…¶åœ¨é«˜é¢‘æ“ä½œç³»ç»Ÿä¸­ï¼ˆå®¹å™¨ã€cronã€sshdï¼‰<br>å¦‚æœä½ åœ¨ â€“debug æ¨¡å¼ä¸‹å¯åŠ¨äº†å®¹å™¨æˆ–ç³»ç»Ÿæ´»è·ƒè¿›ç¨‹ï¼Œfapolicyd ä¼šç–¯ç‹‚æ‰“å°ï¼Œä¸¥é‡æ‹–æ…¢ç³»ç»Ÿï¼Œç”šè‡³å¯¼è‡´ï¼š</p>
<p>è¿›ç¨‹è°ƒåº¦å¼‚å¸¸<br>SSH ç™»å½•å¡æ­»<br>CPU é£™é«˜<br>ç³»ç»Ÿå“åº”å˜æ…¢</p>
<p>âœ… å¦‚ä½•æ¢å¤ç³»ç»Ÿ<br>æ–¹æ³•ä¸€ï¼šè¿œç¨‹è¿æ¥å¤±è´¥ï¼Ÿå°è¯•æœ¬åœ°æ§åˆ¶å°ç™»å½•<br>å¦‚æœä½ æœ‰ IPMIã€iDRACã€BMC æˆ– KVM æ¥å£ï¼Œä¼˜å…ˆé€šè¿‡æ§åˆ¶å°è¿æ¥åæ‰§è¡Œï¼š</p>
<p>sudo killall fapolicyd<br>sudo systemctl restart fapolicyd</p>
<p>æ–¹æ³•äºŒï¼šå°è¯•å·²æœ‰ä¼šè¯æ¢å¤<br>å¦‚æœä½ è¿˜æœ‰ä¸€ä¸ªå·²ç»ç™»å½•çš„ ssh ä¼šè¯æˆ– tmux&#x2F;screen æ²¡æ­»ï¼Œå°è¯•ï¼š</p>
<p>ps aux | grep fapolicyd<br>kill -9 <pid></p>
<p>æ–¹æ³•ä¸‰ï¼šå¼ºåˆ¶é‡å¯æœåŠ¡å™¨ï¼ˆæœ€åæ‰‹æ®µï¼‰<br>å¦‚æœä½ æ— æ³•é€šè¿‡ä»»ä½•æ–¹å¼ç™»å½•ï¼Œå¯èƒ½éœ€è¦é€šè¿‡äº‘åå°æˆ–ç‰©ç†æŒ‰é’®æ‰§è¡Œï¼š</p>
<p>ç¡¬é‡å¯ï¼ˆreboot &#x2F; power cycleï¼‰</p>
<p>âš ï¸ é‡å¯åï¼Œfapolicyd ä¼šå†æ¬¡å¯åŠ¨ï¼ˆå¦‚æœæ˜¯ enabled çŠ¶æ€ï¼‰ï¼Œæ‰€ä»¥å»ºè®®é©¬ä¸Šï¼š</p>
<p>sudo systemctl disable fapolicyd</p>
<p>âœ… æ­£ç¡®ä½¿ç”¨ fapolicyd çš„è°ƒè¯•æ–¹å¼ï¼ˆä¸å½±å“ç³»ç»Ÿï¼‰<br>ä¸‹æ¬¡ä½ å¯ä»¥æ”¹ç”¨æ›´å®‰å…¨çš„æ–¹å¼è°ƒè¯•ï¼š</p>
<p>sudo fapolicyd â€“debug &gt; &#x2F;tmp&#x2F;fapolicyd.log 2&gt;&amp;1 &amp;</p>
<p>è¿™æ ·å®ƒåœ¨åå°è¿è¡Œï¼Œä¸”æ—¥å¿—è¢«é‡å®šå‘ï¼Œä¸ä¼šå¡æ­»ç»ˆç«¯ã€‚</p>
<p>ä¹Ÿå¯ä»¥ä¸´æ—¶è°ƒä½æ—¥å¿—é‡ï¼š</p>
<p>sudo fapolicyd â€“debug â€“rules&#x3D;&#x2F;tmp&#x2F;minimal.rules</p>
<p>ç”¨ä¸€ä¸ªæœ€å°åŒ–è§„åˆ™é›†é¿å…é¢‘ç¹è§¦å‘ã€‚</p>
<p>âœ… æ€»ç»“å»ºè®®</p>
<table>
<thead>
<tr>
<th>åŠ¨ä½œ</th>
<th>å»ºè®®</th>
</tr>
</thead>
<tbody><tr>
<td>ç³»ç»Ÿå¡æ­»åŸå› </td>
<td>â€“debug æ¨¡å¼è¾“å‡ºè¿‡å¤šå¯¼è‡´ç³»ç»Ÿè´Ÿè·å¼‚å¸¸</td>
</tr>
<tr>
<td>æ¢å¤æ–¹æ³•</td>
<td>æ€æ‰è¿›ç¨‹æˆ–é‡å¯ç³»ç»Ÿ</td>
</tr>
<tr>
<td>é¿å…å¡é¡¿</td>
<td>åå°è¿è¡Œå¹¶é‡å®šå‘æ—¥å¿—</td>
</tr>
<tr>
<td>å®¹å™¨è°ƒè¯•</td>
<td>å»ºè®®ç”¨ auditd æˆ– strace æ›¿ä»£</td>
</tr>
</tbody></table>
</section>
     <!-- æ–‡ç« ç‰ˆæƒå£°æ˜ start -->
     <div class="copyright">
      <div class="copy-item">æœ¬æ–‡ä½œè€…ï¼šå‰ç«¯analysis</div>
      <div class="copy-item">è”ç³»é‚®ç®±ï¼š<a href = "mailto: cheonghu@126.com">cheonghu@126.com </a></div>
      <div class="copy-item">ç‰ˆæƒå£°æ˜ï¼š æœ¬æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-NC-SA 4.0 è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</div>
    </div>
    <!-- copyright end -->
    <!-- Tags START -->
    
      <div class="tags">
        <span>Tags:</span>
        
  <a target="_blank" href="/tags#AlmaLinux" >
    <span class="tag-code">AlmaLinux</span>
  </a>

  <a target="_blank" href="/tags#fapolicy" >
    <span class="tag-code">fapolicy</span>
  </a>

      </div>
    
    <!-- Tags END -->
    <!-- NAV START -->
    
  <div class="nav-container">
    <!-- reverse left and right to put prev and next in a more logic postition -->
    
      <a target="_blank" class="nav-left" href="/2025/06/02/front_skills/angular/postmessage%E4%B8%8Engrx%E7%9A%84%E9%80%89%E6%8B%A9/">
        <span class="nav-arrow">â† </span>
        
          postMessage vs NgRx
        
      </a>
    
    
      <a target="_blank" class="nav-right" href="/2025/06/04/front_skills/js/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%89%8D%E5%90%8E%E7%AB%AF%E9%80%9A%E4%BF%A1/">
        
          å‰åç«¯é€šä¿¡åè®®å…¨æ™¯æ‰‹å†Œ
        
        <span class="nav-arrow"> â†’</span>
      </a>
    
  </div>

    <!-- NAV END -->
    <!-- æ‰“èµ START -->
    
      <div class="money-like">
        <div class="reward-btn">
          èµ
          <span class="money-code">
            <span class="alipay-code">
              <div class="code-image"></div>
              <b>ä½¿ç”¨æ”¯ä»˜å®æ‰“èµ</b>
            </span>
            <span class="wechat-code">
              <div class="code-image"></div>
              <b>ä½¿ç”¨å¾®ä¿¡æ‰“èµ</b>
            </span>
          </span>
        </div>
        <p class="notice">è‹¥ä½ è§‰å¾—æˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¯¹æˆ‘æ‰“èµ</p>
      </div>
    
    <!-- æ‰“èµ END -->
    <!-- äºŒç»´ç  START -->
    
    <!-- äºŒç»´ç  END -->
    
      <!-- No Comment -->
    
  </article>
  <!-- Article END -->
  <!-- Catalog START -->
  
    <aside class="catalog-container">
  <div class="toc-main">
    <strong class="toc-title">ç« èŠ‚å†…å®¹</strong>
    
      <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#%E5%B7%B2%E7%BB%8F%E5%B0%86-host-dir-%E5%8A%A0%E5%85%A5%E4%BA%86-etc-fapolicyd-rule-d-%E4%B8%8B"><span class="toc-nav-text">å·²ç»å°† &#x2F;host&#x2F;dir åŠ å…¥äº† &#x2F;etc&#x2F;fapolicyd&#x2F;rule.d&#x2F; ä¸‹</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#systemctl-stop-fapolicyd-%E6%98%AF-%E4%B8%B4%E6%97%B6%E5%85%B3%E9%97%AD%E6%9C%8D%E5%8A%A1%EF%BC%8C%E5%AE%83%E7%9A%84%E8%A1%8C%E4%B8%BA%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="toc-nav-text">systemctl stop fapolicyd æ˜¯ ä¸´æ—¶å…³é—­æœåŠ¡ï¼Œå®ƒçš„è¡Œä¸ºå¦‚ä¸‹ï¼š</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#sudo-fapolicyd-%E2%80%93debug"><span class="toc-nav-text">sudo fapolicyd â€“debug</span></a></li></ol>
    
  </div>
</aside>
  
  <!-- Catalog END -->
</main>

<script>
  (function () {
    var url = 'https://huchengzhang.com/2025/06/03/devops_skills/linux/amllinux fapolicy/';
    var banner = ''
    if (banner !== '' && banner !== 'undefined' && banner !== 'null') {
      $('#article-banner').css({
        'background-image': 'url(' + banner + ')'
      })
    } else {
      $('#article-banner').geopattern(url)
    }
    $('.header').removeClass('fixed-header')

    // error image
    $(".markdown-content img").on('error', function() {
      $(this).attr('src', 'http://file.muyutech.com/error-img.png')
      $(this).css({
        'cursor': 'default'
      })
    })

    // zoom image
    $(".markdown-content img").on('click', function() {
      var src = $(this).attr('src')
      if (src !== 'http://file.muyutech.com/error-img.png') {
        var imageW = $(this).width()
        var imageH = $(this).height()

        var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
        zoom = zoom < 1 ? 1 : zoom
        zoom = zoom > 2 ? 2 : zoom
        var transY = (($(window).height() - imageH) / 2).toFixed(2)

        $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="'+ src +'" /></div></div>')
        $('.image-view-wrap').addClass('wrap-active')
        $('.image-view-wrap img').css({
          'width': `${imageW}`,
          'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
        })
        $('html').css('overflow', 'hidden')

        $('.image-view-wrap').on('click', function() {
          $(this).remove()
          $('html').attr('style', '')
        })
      }
    })
  })();
</script>







    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer class="app-footer">
  <p class="copyright">
    &copy; 2026 | Proudly powered by <a target="_blank" href="/images/qrcode.jpg"> å‰ç«¯analysis</a>
    <br>
  </p>
   <!-- <p class="copyright">
    <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=34012302000213" >çš–å…¬ç½‘å®‰å¤‡ 34012302000213å·</a> | <a href="http://www.beian.miit.gov.cn/" target="_blank">çš–ICPå¤‡17012162å·-9 </a>
    <br>
  </p> -->
</footer>

<script>
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
  }
  
</script>
<script>
  async("https://cdn.bootcdn.net/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
    FastClick.attach(document.body);
  })
</script>

<script>
  var hasLine = 'true';
  async("https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.2/highlight.min.js", function(){
    $('figure pre').each(function(i, block) {
      var figure = $(this).parents('figure');
      if (hasLine === 'false') {
        figure.find('.gutter').hide();
      }
      var lang = figure.attr('class').split(' ')[1] || 'code';
      var codeHtml = $(this).html();
      var codeTag = document.createElement('code');
      codeTag.className = lang;
      codeTag.innerHTML = codeHtml;
      $(this).attr('class', '').empty().html(codeTag);
      figure.attr('data-lang', lang.toUpperCase());
      hljs.highlightBlock(block);


      
    });
  })
</script>
<script>
  async('https://s9.cnzz.com/z_stat.php?id=1277936725&web_id=1277936725')
</script>
<!-- Baidu Tongji -->


<script src="/js/script.js"></script>

  </body>
</html>